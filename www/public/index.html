<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="theme-color" content="#000000">
        <meta name="baidu-site-verification" content="4VMCoLZIwC" />
        <title></title>
        <script>
          window.onload=function(){
            var copylnk = document.getElementById("copyLnk");
            copylnk.addEventListener("click", function(){
              copy(false, "百阅千秋");
            });
          }
          //判断访问终端
        var browser={
            versions:function(){
                var u = navigator.userAgent, app = navigator.appVersion;
                return {
                    trident: u.indexOf('Trident') > -1, //IE内核
                    presto: u.indexOf('Presto') > -1, //opera内核
                    webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
                    gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,//火狐内核
                    mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
                    ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                    android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
                    iPhone: u.indexOf('iPhone') > -1 , //是否为iPhone或者QQHD浏览器
                    iPad: u.indexOf('iPad') > -1, //是否iPad
                    webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部
                    weixin: u.indexOf('MicroMessenger') > -1, //是否微信 （2015-01-22新增）
                    qq: u.match(/\sQQ/i) == " qq" //是否QQ
                };
            }(),
            language:(navigator.browserLanguage || navigator.language).toLowerCase()
        }    
        function copy (id, attr) {
            let target = null;

            if (attr) {
                target = document.createElement('div');
                target.id = 'tempTarget';
                target.style.opacity = '0';
                if (id) {
                    let curNode = document.querySelector('#' + id);
                    target.innerText = curNode[attr];
                } else {
                    target.innerText = attr;
                }
                document.body.appendChild(target);
            } else {
                target = document.querySelector('#' + id);
            }

            try {
                let range = document.createRange();
                range.selectNode(target);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
                document.execCommand('copy');
                window.getSelection().removeAllRanges();
                alert('复制成功!');
                testApp('weixin://')
            } catch (e) {
                alert('复制失败')
            }

            if (attr) {
                // remove temp target
                target.parentElement.removeChild(target);
            }
        }

        function testApp(url) { 
          var timeout, t = 1000, hasApp = true; 
          setTimeout(function () { 
            if (!hasApp) { 
                //没有安装微信
              //   var r=confirm("您没有安装微信，请先安装微信!");
              //   if (r==true){
                    location.href="http://weixin.qq.com/"
              //   }
            }else{
                //安装微信
            }
            document.body.removeChild(ifr); 
          }, 2000) 
          
          var t1 = Date.now(); 
          var ifr = document.createElement("iframe"); 
          ifr.setAttribute('src', url); 
          ifr.setAttribute('style', 'display:none'); 
          document.body.appendChild(ifr); 
          timeout = setTimeout(function () { 
             var t2 = Date.now(); 
             if (!t1 || t2 - t1 < t + 100) {//在指定时间内唤起微信失败，跳转到下载页面
               hasApp = false; 
             } 
          }, t); 
        } 

        </script>
    </head>
    <body>
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>
