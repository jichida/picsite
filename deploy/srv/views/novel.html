<div class="novellist">
	<div class="title">
		<span>大家都在看</span>
		<span onClick="getRandomArrayElements()">换一批</span>
	</div>
    <ul>
    	{ 
    		map(this.state.newlist, (v, i)=>{
				return (<li key={i}><a href={v.url} target="_blank">{v.name}</a></li>)
        	})
        }
    </ul>
</div>
<script>
	$(function(){
		$("img.lazy").lazyload();
		var leftnav = $(".leftnav");
		$(".bgwamp").click(function(){
			leftnav.removeClass("shownav");
			leftnav.addClass("hidenav");
		});
		$(".navlnk").click(function(){
			leftnav.removeClass("hidenav");
			leftnav.addClass("shownav");
		});
		$("img.lazy").each(function(){
			var innwidth = window.innerWidth;
			if(innwidth>720){innwidth=720}
			$(this).css("height", ((innwidth-30)/2)+"px");
			$(this).click(function(){
				var id = $(this).attr("id");
				var arrid = id.split("_");
				var urlnav = arrid[0];
				var albumid = arrid[1];
				var filename = arrid[2];

			})
		})
	})

	function getRandomArrayElements(arr,count){
		var shuffled = arr.slice(0), i = arr.length, min = i - count, temp, index;
		while (i-- > min){
			index = Math.floor((i + 1) * Math.random());
			//alert(index)
			temp = shuffled[index];
			shuffled[index] = shuffled[i];
			shuffled[i] = temp;
			}
		this.setState({newlist : shuffled.slice(min)});
	}
</script>